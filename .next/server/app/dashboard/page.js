(()=>{var e={};e.id=702,e.ids=[702],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},32266:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=r(67096),s=r(16132),n=r(37284),l=r.n(n),o=r(32564),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1618)),"C:\\Users\\STW\\OneDrive\\Dokumenty\\VSC Projects\\Tasker-For-Firebase\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,66660)),"C:\\Users\\STW\\OneDrive\\Dokumenty\\VSC Projects\\Tasker-For-Firebase\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,35345)),"C:\\Users\\STW\\OneDrive\\Dokumenty\\VSC Projects\\Tasker-For-Firebase\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\STW\\OneDrive\\Dokumenty\\VSC Projects\\Tasker-For-Firebase\\app\\dashboard\\page.tsx"],u="/dashboard/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},56154:(e,t,r)=>{Promise.resolve().then(r.bind(r,34576))},34576:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Dashboard});var a=r(30784),s=r(61102),n=r(9885),l=r(83022);function UncompletedTasksChart(){let[e,t]=(0,n.useState)(null),[r,o]=(0,n.useState)([]),[i,c]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{s.I8&&s.I8.currentUser&&(t(s.I8.currentUser),c(!1))},[]),(0,n.useEffect)(()=>{let fetchUncompletedTasks=async()=>{try{let t=await fetch("/api/postgres/get-uncompleted-tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth0_id:e.sub})});if(t.ok){let e=await t.json();o(e.tasks),c(!1)}else console.error("Failed to fetch uncompleted tasks")}catch(e){console.error("Error fetching uncompleted tasks:",e)}finally{c(!1)}};e&&fetchUncompletedTasks()},[e]),i)?a.jsx(l.$j,{}):(0,a.jsxs)("div",{className:"d-flex flex-column items-center justify-center gap-3",children:[a.jsx("h1",{className:"text-8xl m-0",children:r.length}),a.jsx("p",{className:"text-lg m-0",children:1===r.length?"niewykonane zadanie":r.length<5?"niewykonane zadania":"niewykonanych zadań"})]})}var o=r(63647),i=r(54206),c=r(83053),d=r(98699);let u={light:"",dark:".dark"},h=n.createContext(null);function useChart(){let e=n.useContext(h);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let p=n.forwardRef(({id:e,className:t,children:r,config:s,...l},i)=>{let c=n.useId(),u=`chart-${e||c.replace(/:/g,"")}`;return a.jsx(h.Provider,{value:{config:s},children:(0,a.jsxs)("div",{"data-chart":u,ref:i,className:(0,d.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...l,children:[a.jsx(ChartStyle,{id:u,config:s}),a.jsx(o.h,{children:r})]})})});p.displayName="Chart";let ChartStyle=({id:e,config:t})=>{let r=Object.entries(t).filter(([e,t])=>t.theme||t.color);return r.length?a.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(u).map(([t,a])=>`
${a} [data-chart=${e}] {
${r.map(([e,r])=>{let a=r.theme?.[t]||r.color;return a?`  --color-${e}: ${a};`:null}).join("\n")}
}
`).join("\n")}}):null};i.u;let m=n.forwardRef(({active:e,payload:t,className:r,indicator:s="dot",hideLabel:l=!1,hideIndicator:o=!1,label:i,labelFormatter:c,labelClassName:u,formatter:h,color:p,nameKey:m,labelKey:x},f)=>{let{config:g}=useChart(),y=n.useMemo(()=>{if(l||!t?.length)return null;let[e]=t,r=`${x||e.dataKey||e.name||"value"}`,s=getPayloadConfigFromPayload(g,e,r),n=x||"string"!=typeof i?s?.label:g[i]?.label||i;return c?a.jsx("div",{className:(0,d.cn)("font-medium",u),children:c(n,t)}):n?a.jsx("div",{className:(0,d.cn)("font-medium",u),children:n}):null},[i,c,t,l,u,g,x]);if(!e||!t?.length)return null;let j=1===t.length&&"dot"!==s;return(0,a.jsxs)("div",{ref:f,className:(0,d.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[j?null:y,a.jsx("div",{className:"grid gap-1.5",children:t.map((e,t)=>{let r=`${m||e.name||e.dataKey||"value"}`,n=getPayloadConfigFromPayload(g,e,r),l=p||e.payload.fill||e.color;return a.jsx("div",{className:(0,d.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===s&&"items-center"),children:h&&e?.value!==void 0&&e.name?h(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[n?.icon?a.jsx(n.icon,{}):!o&&a.jsx("div",{className:(0,d.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===s,"w-1":"line"===s,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===s,"my-0.5":j&&"dashed"===s}),style:{"--color-bg":l,"--color-border":l}}),(0,a.jsxs)("div",{className:(0,d.cn)("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[j?y:null,a.jsx("span",{className:"text-muted-foreground",children:n?.label||e.name})]}),e.value&&a.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});m.displayName="ChartTooltip",c.D;let x=n.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:s="bottom",nameKey:n},l)=>{let{config:o}=useChart();return r?.length?a.jsx("div",{ref:l,className:(0,d.cn)("flex items-center justify-center gap-4","top"===s?"pb-3":"pt-3",e),children:r.map(e=>{let r=`${n||e.dataKey||"value"}`,s=getPayloadConfigFromPayload(o,e,r);return(0,a.jsxs)("div",{className:(0,d.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[s?.icon&&!t?a.jsx(s.icon,{}):a.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),s?.label]},e.value)})}):null});function getPayloadConfigFromPayload(e,t,r){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,s=r;return r in t&&"string"==typeof t[r]?s=t[r]:a&&r in a&&"string"==typeof a[r]&&(s=a[r]),s in e?e[s]:e[r]}x.displayName="ChartLegend";var f=r(74966),g=r(24300),y=r(35522),j=r(14839),b=r(57038);function UncompletedTasksChartByDay(){let[e,t]=(0,n.useState)(null),[r,o]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{s.I8&&s.I8.currentUser&&(t(s.I8.currentUser),u(!1))},[]),(0,n.useEffect)(()=>{let fetchUncompletedTasks=async()=>{try{let t=await fetch("/api/postgres/get-uncompleted-tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth0_id:e.sub})});if(t.ok){let e=await t.json();o(e.tasks),u(!1)}else console.error("Failed to fetch uncompleted tasks")}catch(e){console.error("Error fetching uncompleted tasks:",e)}finally{u(!1)}};e&&fetchUncompletedTasks()},[e]);let h=r.reduce((e,t)=>{let r=new Date(t.due_date).toLocaleDateString();return e[r]=(e[r]||0)+1,e},{}),k=Object.entries(h).map(([e,t])=>({date:e,count:t}));return a.jsx(p,{config:{desktop:{label:"Desktop",color:"#2563eb"},mobile:{label:"Mobile",color:"#60a5fa"}},children:d?a.jsx(l.$j,{}):(0,a.jsxs)(f.v,{data:k,children:[a.jsx(g.q,{strokeDasharray:"3 3"}),a.jsx(y.K,{dataKey:"date",label:{value:"Niewykonane zadania wg dnia",position:"insideBottom",offset:-5}}),a.jsx(j.B,{label:{value:"Liczba zadań",angle:-90,position:"insideLeft"}}),a.jsx(i.u,{content:a.jsx(m,{labelKey:"date",formatter:(e,t,r)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["Dzień: ",r.payload.date]}),(0,a.jsxs)("div",{children:["Liczba niewykonanych zadań: ",e]})]})})}),a.jsx(c.D,{content:a.jsx(x,{nameKey:"date"})}),a.jsx(b.$,{dataKey:"count",fill:"#8884d8",animationDuration:1500})]})})}var k=r(20599),v=r(32451);function Dashboard(){let[e,t]=(0,n.useState)(null),[r,l]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{s.I8&&s.I8.currentUser&&(t(s.I8.currentUser),l(!1))},[]),(0,n.useEffect)(()=>{document.title="Dashboard"},[]),e&&!r)?(0,a.jsxs)("div",{className:"flex flex-column items-start justify-center gap-3 p-5 flex-none md:grid md:grid-cols-3 md:gap-5",children:[(0,a.jsxs)(k.Zb,{className:"w-full flex-grow-1 hover:bg-gray-50",children:[a.jsx(k.Ol,{className:"h-auto",children:(0,a.jsxs)(k.ll,{className:"overflow-hidden pb-1 text-ellipsis",children:["Witaj, ",e&&e.displayName?e.displayName:e.email,"!"]})}),(0,a.jsxs)(k.aY,{className:"d-flex flex-column justify-center items-center",children:[a.jsx("img",{src:e.photoURL,alt:e&&e.displayName?e.displayName:e.email,width:100,height:100,className:"rounded-full"}),(0,a.jsxs)(v._,{className:"mt-4 text-center",children:["Ostatnia aktualizacja profilu: ",new Date(e.metadata.lastSignInTime).toLocaleDateString()]}),(0,a.jsxs)(v._,{className:"mt-2 text-center",children:["Zweryfikowany użytkownik: ",e.emailVerified?"Tak":"Nie"]})]})]}),(0,a.jsxs)(k.Zb,{className:"w-full flex-grow-1 hover:bg-gray-50",children:[a.jsx(k.Ol,{children:a.jsx(k.ll,{children:"Liczba niewykonanych zadań wg dnia"})}),a.jsx(k.aY,{children:a.jsx(UncompletedTasksChartByDay,{})})]}),(0,a.jsxs)(k.Zb,{className:"w-full flex-grow-1 hover:bg-gray-50",children:[a.jsx(k.Ol,{children:a.jsx(k.ll,{children:"Masz łącznie"})}),a.jsx(k.aY,{children:a.jsx(UncompletedTasksChart,{})})]})]}):null}},1618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var a=r(95153);let s=(0,a.createProxy)(String.raw`C:\Users\STW\OneDrive\Dokumenty\VSC Projects\Tasker-For-Firebase\app\dashboard\page.tsx`),{__esModule:n,$$typeof:l}=s,o=s.default,i=o}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[440,397,728,570,488,157],()=>__webpack_exec__(32266));module.exports=r})();